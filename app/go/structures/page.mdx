# Структуры

Структура (`struct`) — это составной тип данных, объединяющий несколько полей с разными типами. Она позволяет моделировать сложные объекты, объединяя связанные данные в одну логическую сущность. В Go структуры являются основным способом представления объектов и данных.

## Что такое структура?

Структура — это пользовательский тип данных, который содержит именованные поля разного типа. Она позволяет объединить множество переменных в один объект, представляющий сущность с определенными атрибутами.

## Объявление структуры

Структура объявляется с помощью ключевого слова `type`, после которого следует имя структуры и определение ее полей в фигурных скобках. Поля имеют имена и типы данных. Если имя поля начинается с заглавной буквы, оно становится экспортируемым и доступным из других пакетов.

## Создание экземпляров структуры

Экземпляр структуры можно создать несколькими способами:

- **Инициализация с именованными полями:** Поля указываются явно, что делает код более читаемым.
- **Инициализация по порядку:** Поля перечисляются в том порядке, в котором они объявлены в структуре.
- **Создание указателя на структуру:** Указатель создается с помощью `&` или функции `new()`.

## Доступ к полям структуры

Доступ к полям осуществляется с помощью оператора `.`. Поля можно читать, изменять и передавать в другие функции. Если структура передается по значению, создается копия, а если по указателю — изменения применяются к оригиналу.

## Встроенные структуры (Композиция)

Go не поддерживает наследование, но позволяет использовать композицию через встраивание структур. Это означает, что одна структура может включать другую структуру в себя, автоматически получая доступ ко всем ее полям и методам. Это повышает гибкость кода и снижает связанность.

## Методы структуры

Методы позволяют привязывать функции к структурам, что помогает добавлять поведение объектам. Если метод привязан к указателю на структуру, он может изменять ее поля. Методы структур позволяют реализовывать интерфейсы, что обеспечивает полиморфизм в Go.

## Ключевые вопросы

### 1. Чем композиция отличается от наследования?

- Композиция предполагает объединение структур путем встраивания одной структуры в другую. Это делает код более гибким и модульным.
- Наследование отсутствует в Go, что исключает сложные иерархии классов. Это упрощает поддержку кода.

### 2. Объясните разницу между значением структуры и указателем на структуру.

- **Значение структуры:** Передается по значению, создавая копию структуры. Изменения внутри функции не повлияют на оригинал.
- **Указатель на структуру:** Передается по ссылке, что позволяет изменять исходные данные. Это экономит память и повышает производительность при работе с большими структурами.

### 3. Как реализовать интерфейс с использованием структуры?

- Интерфейсы в Go реализуются неявно. Если структура содержит все методы интерфейса, она автоматически реализует его.
- Например, если интерфейс требует метод `Print()`, структура с таким методом будет совместима с интерфейсом без дополнительного кода.

### 4. Почему структуры в Go считаются легковесными?

- Структуры передаются по значению, что делает операции безопасными.
- Отсутствие дополнительных механизмов, таких как наследование, исключает сложные зависимости.
- Указатели позволяют избегать копирования больших структур, что оптимизирует использование памяти.

### 5. Что произойдет, если встраивать несколько структур с одинаковыми полями?

- Если две встроенные структуры содержат одноименные поля, происходит **конфликт имен**.
- Чтобы устранить конфликт, следует использовать явное обращение через имя структуры (`structName.Field`).

### 6. Как объявить конструктор для структуры?

В Go нет встроенных конструкторов. Для создания объектов структуры используется функция, возвращающая указатель на новую структуру. Это позволяет контролировать инициализацию значений.

### 7. Какие правила экспорта полей структуры?

- Поля, названные с **заглавной буквы**, экспортируются и доступны из других пакетов.
- Поля, названные с **маленькой буквы**, доступны только внутри текущего пакета.

### 8. Зачем использовать указатели на структуру?

- Указатели позволяют изменять поля структуры без создания копии.
- Это снижает использование памяти и увеличивает производительность, особенно при работе с большими структурами.

### 9. Как сравниваются структуры в Go?

- Структуры сравниваются с помощью оператора `==`, если все их поля поддерживают сравнение.
- Если хотя бы одно поле не сравнимо (например, срез или карта), структура также становится несравнимой.

### 10. Какие есть лучшие практики при работе со структурами?

- Используйте **именованные поля** при инициализации для повышения читаемости.
- Создавайте **конструкторы-функции** для сложных структур.
- Используйте **встраивание структур** для повторного использования кода.
- Старайтесь **избегать глобальных структур**, чтобы улучшить управление зависимостями.
